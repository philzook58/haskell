MODULE thread(y)
VAR
	location: {ncrit, wait, exit, crit};
ASSIGN
	init(location) := nc;
	next(location) := case
	location = nc : {nc, w};
	location =c : {c,exit};
	location = exit : nc;
	TRUE: location;
	esac;
	next(y) := case
	location = w & y>0: y -1;
	location=exit: y+1;
	TRUE
	esac;

MODULE main

VAR
	y-main: 0..1;


-- check_ltlspec -p "F ! (prg1.location = c & pg2.location = c)"
	
